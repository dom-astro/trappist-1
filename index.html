<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualisation des Orbites d'Exoplan√®tes</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>üåå Visualisation des Orbites d'Exoplan√®tes</h1>
        
        <div class="controls">
            <button id="playPause">‚è∏Ô∏è Pause</button>
            <button id="reset">üîÑ Reset</button>
            <div class="speed-control">
                <label>Vitesse:</label>
                <input type="range" id="speedSlider" min="0.1" max="5" step="0.1" value="1">
                <span id="speedValue">1x</span>
            </div>
            <div class="trail-controls">
                <label>
                    <input type="checkbox" id="showTrails" checked>
                    Tra√Æn√©es
                </label>
                <label>
                    <input type="checkbox" id="fadeTrails" checked>
                    Estompage
                </label>
            </div>
            <div class="star-controls">
                <label>
                    <input type="checkbox" id="starTwinkle" checked>
                    Scintillement √©toile
                </label>
                <div class="twinkle-speed-control">
                    <label>Vitesse scintillement:</label>
                    <input type="range" id="twinkleSpeedSlider" min="2" max="15" step="1" value="8">
                    <span id="twinkleSpeedValue">8s</span>
                </div>
            </div>
            <div class="habitable-zone-controls">
                <label>
                    <input type="checkbox" id="showHabitableZone" checked>
                    Zone d'habitabilit√©
                </label>
            </div>
        </div>
        
        <div class="visualization-container">
            <div id="exoplanet-viz" style="position: relative;"></div>
            <div class="legend" id="legend"></div>
        </div>
        
        <div class="info-panel">
            <h3>Informations</h3>
            <p>Survolez l'√©toile ou une plan√®te avec la souris pour voir leurs d√©tails. Les orbites sont repr√©sent√©es √† l'√©chelle relative.</p>
        </div>
    </div>

    <script src="js/exoplanets.js"></script>
    <script src="data/trappist-1.js"></script>
    <script>
        // Initialiser la visualisation
        const orbits = new Exoplanets('exoplanet-viz', exoplanetData, {
            width: 800,
            height: 600,
            animationSpeed: 1,
            showTrails: true,
            showOrbits: true
        });

        // Contr√¥les
        document.getElementById('playPause').addEventListener('click', function() {
            if (orbits.isPlaying) {
                orbits.pause();
                this.textContent = '‚ñ∂Ô∏è Play';
            } else {
                orbits.play();
                this.textContent = '‚è∏Ô∏è Pause';
            }
        });

        document.getElementById('reset').addEventListener('click', function() {
            orbits.reset();
        });

        document.getElementById('speedSlider').addEventListener('input', function() {
            const speed = parseFloat(this.value);
            orbits.setSpeed(speed);
            document.getElementById('speedValue').textContent = speed + 'x';
        });

        // Contr√¥les des tra√Æn√©es
        document.getElementById('showTrails').addEventListener('change', function() {
            orbits.setTrails(this.checked);
        });

        document.getElementById('fadeTrails').addEventListener('change', function() {
            orbits.setFadeTrails(this.checked);
        });

        // Contr√¥les de l'√©toile
        document.getElementById('starTwinkle').addEventListener('change', function() {
            orbits.setStarTwinkle(this.checked);
        });

        document.getElementById('twinkleSpeedSlider').addEventListener('input', function() {
            const speed = parseInt(this.value);
            orbits.setTwinkleSpeed(speed);
            document.getElementById('twinkleSpeedValue').textContent = speed + 's';
        });

        // Contr√¥le de la zone d'habitabilit√©
        document.getElementById('showHabitableZone').addEventListener('change', function() {
            orbits.setHabitableZone(this.checked);
        });
    </script>
</body>
</html>